import{r as a,j as e}from"./index-47f15509.js";import{f as j}from"./index.esm-2db67e1b.js";import{a as y,A as C}from"./getAxiosinstance-76dd99fb.js";import{s as b}from"./styled-afa05573.js";import{m as s,D as U,n as w,p as S,C as A,q as D}from"./StoryProfile-1ddf9236.js";function P(){const[n,i]=a.useState(!1),[r,c]=a.useState(),[d,p]=a.useState(""),[m,h]=a.useState({});console.log(m);const u=o=>{const t=o.target.files[0];c(t),i(!0),p(URL.createObjectURL(t))},l=()=>{i(!1)},f=b("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),x=async()=>{const o={baseURL:C,timeout:1e3,headers:{Accept:"application/json","Content-Type":"application/json","content-type":"multipart/form-data",Authorization:`Bearer ${document.cookie}`}};try{const t=new FormData;t.append("my_file",r);const g=await y.post("/upload",t,o);h(g.data)}catch(t){alert(t)}finally{alert("finish")}};return e.jsxs(a.Fragment,{children:[e.jsx(s,{component:"label",color:"inherit",startIcon:e.jsx(j,{className:"text-3xl"}),children:e.jsx(f,{type:"file",multiple:!1,name:"my_file",onChange:u})}),e.jsxs(U,{open:n,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(w,{id:"alert-dialog-title",children:"Use Google's location service?"}),e.jsx(S,{children:e.jsx(A,{component:"img",height:"194",image:`${d}`,alt:"Paella dish"})}),e.jsxs(D,{children:[e.jsx(s,{onClick:l,children:"Cancel"}),e.jsx(s,{onClick:x,autoFocus:!0,children:"Uplode"})]})]})]})}export{P as U};
